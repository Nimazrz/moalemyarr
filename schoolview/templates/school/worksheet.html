{% extends 'parent/base.html' %}
{% load static %}
{% block title %}Ú©Ø§Ø±Ù†Ø§Ù…Ù‡ Ø¢Ø²Ù…ÙˆÙ†{% endblock %}
{% block content %}
<div class="worksheet-container">
    <h1 class="worksheet-title">Ú©Ø§Ø±Ù†Ø§Ù…Ù‡ Ø¢Ø²Ù…ÙˆÙ†</h1>

    <!-- Ø¨Ø®Ø´ Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ÛŒ Ø¯Ø±Ø³Øª -->
    <div class="answers-section correct-answers">
        <h3 class="section-title">âœ… Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ÛŒ Ø¯Ø±Ø³Øª</h3>
        {% for key, value in correct_answered.items %}
            <div class="answer-item">
                <span class="question-number">{{ key }}.</span>
                <span class="question-text">{{ value }}</span>
            </div>
        {% empty %}
            <p class="no-answers">Ø´Ù…Ø§ Ø¨Ù‡ Ù‡ÛŒÚ†â€ŒÚ©Ø¯Ø§Ù… Ø§Ø² Ø³ÙˆØ§Ù„â€ŒÙ‡Ø§ Ù¾Ø§Ø³Ø® ØµØ­ÛŒØ­ Ù†Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒØ¯.</p>
        {% endfor %}
    </div>

    <!-- Ø¨Ø®Ø´ Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ÛŒ ØºÙ„Ø· -->
    <div class="answers-section wrong-answers">
        <h3 class="section-title">âŒ Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ÛŒ ØºÙ„Ø·</h3>
        {% for key, value in wrong_answered.items %}
            <div class="answer-item">
                <span class="question-number">{{ key }}.</span>
                <span class="question-text">{{ value.user_answer }}</span>
                <span class="correct-answer-text">(Ù¾Ø§Ø³Ø® ØµØ­ÛŒØ­: {{ value.correct_answer }})</span>
            </div>
        {% empty %}
            <p class="no-answers">Ø´Ù…Ø§ Ø¨Ù‡ Ù‡ÛŒÚ†â€ŒÚ©Ø¯Ø§Ù… Ø§Ø² Ø³ÙˆØ§Ù„â€ŒÙ‡Ø§ Ù¾Ø§Ø³Ø® ØºÙ„Ø· Ù†Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒØ¯.</p>
        {% endfor %}
    </div>

    <!-- Ø®Ù„Ø§ØµÙ‡ Ø¢Ø²Ù…ÙˆÙ† -->
    <div class="exam-summary">
        <h3 class="section-title">ğŸ“Š Ø®Ù„Ø§ØµÙ‡ Ø¢Ø²Ù…ÙˆÙ†</h3>
        <div class="summary-grid">
            <div class="summary-item">
                <span class="summary-label">Ø²Ù…Ø§Ù† Ø¢Ø²Ù…ÙˆÙ†:</span>
                <span class="summary-value">{{ exam_data.total_time }} Ø«Ø§Ù†ÛŒÙ‡</span>
            </div>
            <div class="summary-item">
                <span class="summary-label">ØªØ¹Ø¯Ø§Ø¯ Ø³ÙˆØ§Ù„Ø§Øª Ø¯Ø±Ø³Øª:</span>
                <span class="summary-value">{{ correct_answered_count }}</span>
            </div>
            <div class="summary-item">
                <span class="summary-label">ØªØ¹Ø¯Ø§Ø¯ Ø³ÙˆØ§Ù„Ø§Øª ØºÙ„Ø·:</span>
                <span class="summary-value">{{ wrong_answered_count }}</span>
            </div>
            <div class="summary-item">
                <span class="summary-label">Ø¯Ø±ØµØ¯ Ø¢Ø²Ù…ÙˆÙ†:</span>
                <span class="summary-value">%{{ darsad }}</span>
            </div>
        </div>
    </div>

    <!-- Ø¯Ú©Ù…Ù‡ Ø°Ø®ÛŒØ±Ù‡ Ú©Ø§Ø±Ù†Ø§Ù…Ù‡ -->
    <form action="{% url 'schoolview:save_worksheet' %}" method="post" class="save-form">
        {% csrf_token %}
        <button type="submit" class="save-button"> Ø°Ø®ÛŒØ±Ù‡ Ú©Ø§Ø±Ù†Ø§Ù…Ù‡</button>
    </form>
</div>
{% endblock %}